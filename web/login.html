<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Bootstrap static html page for campaign administration."
    name="description">
    <meta content=
    "RTB,OpenRTB,JAVA,Advertising,real-time,campaign,administration" name=
    "keywords">
    <meta content="RTB4FREE" name="author">
    <title>RTB4FREE Campaigns</title>
    <link href="images/alien.png" rel="shortcut icon">
    <link href=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
    rel="stylesheet">
    <link href=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"
    rel="stylesheet">
    <link href="bootstrap-dialog.css" rel="stylesheet">
    <script src=
    "https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js">
    </script>
    <script src=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js">
    </script>
    <script src="bootstrap-dialog.js">
    </script>
    <script src="js/rtb4free.js">
    </script>
    <script src="js/vkbeautify.0.99.00.beta.js">
    </script>
    <style type="text/css">

    .bs-example{
        margin: 20px;
    }

    .form-signin
    {
    max-width: 330px;
    padding: 15px;
    margin: 0 auto;
    }
    .form-signin .form-signin-heading, .form-signin .checkbox
    {
    margin-bottom: 10px;
    }
    .form-signin .checkbox
    {
    font-weight: normal;
    }
    .form-signin .form-control
    {
    position: relative;
    font-size: 16px;
    height: auto;
    padding: 10px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    }
    .form-signin .form-control:focus
    {
    z-index: 2;
    }
    .form-signin input[type="text"]
    {
    margin-bottom: -1px;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    }
    .form-signin input[type="password"]
    {
    margin-bottom: 10px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    }
    .account-wall
    {
    margin-top: 20px;
    padding: 40px 0px 20px 0px;
    background-color: #f7f7f7;
    -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    }
    .login-title
    {
    color: #555;
    font-size: 18px;
    font-weight: 400;
    display: block;
    }
    .profile-img
    {
    width: 96px;
    height: 96px;
    margin: 0 auto 10px;
    display: block;
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
    border-radius: 50%;
    }
    .need-help
    {
    margin-top: 10px;
    }
    .new-account
    {
    display: block;
    margin-top: 10px;
    }

    </style>
</head>
<body>
    <div class="container">
        <div class="row" id="login">
            <div class="col-sm-6 col-md-4 col-md-offset-4">
                <h1 class="text-center login-title">Sign in to continue to
                RTB4FREE Campaign Administration Portal</h1>
                <div>
                    <form class="form">
                        <input autofocus="" class="form-control" id="username"
                        placeholder="Email" required="" type="text" value=
                        'demo'> <input class="form-control" id="password"
                        placeholder="Password" required="" type="password"
                        value='demopassword'> <input class=
                        "btn btn-primary btnSeccion" onclick="doFormLogin();"
                        type="button" value="Sign In">
                    </form>
                </div>
                <script type="text/javascript">


                function toggle(elementId) {
                var ele = document.getElementById(elementId);
                if(ele.style.display == "block") {
                ele.style.display = "none";
                }
                else {
                ele.style.display = "block";
                }
                } 

                </script> 
                <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-5532985-4', 'auto');
                ga('send', 'pageview');

                </script>
                <div onclick="javascript:toggle('createAccount');">
                    <div id="createAccount" style=
                    "display:none; border-width:2px; border-style:solid">
                        <p>Please send a request to Ben.Faul@gmail.com to
                        receive a password to login to the system. If you want
                        a different email address used for the username please
                        indicate that on your email to us. We will respond with
                        your password in a follow up email to the user email
                        address you supply. Thanks, RTB4FREE.org</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="bs-example" id="bs-example" style="display:none">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">RTB4FREE Campaign Administration
                    for '<span id="selected">User Name will be here</span>'
                    <a class="btn btn-danger btn-large" href="login"><i class=
                    "icon-white icon-heart"></i>Logout</a></h3>
                </div>
                <div class="panel-body">
                    <p>This page is used to manage sample campaigns.</p>
                    <p>Be aware that logins expire after 30 days, and your
                    login (and campaigns) are deleted unless you login at least
                    once within every 30 day period.</p>
                    <div id="list-block">
                        <hr>
                        <table>
                            <tr>
                                <th>Add a New Campaign:</th>
                            </tr>
                            <tr>
                                <td><input id="ad_domain" placeholder="ad id"
                                size="40" type="text" value=""></td>
                                <td><input data-original-title=
                                "This will create a new basic campaign for you to work with."
                                data-placement="bottom" data-toggle="tooltip"
                                id='addCampaignButton' onclick="doDyno();"
                                type='button' value='+'></td>
                            </tr>
                        </table><br>
                        <br>
                    </div>
                </div>
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h3 class="panel-title">Edit Current Campaigns
                        <a class="btn btn-success btn-large" href="#" id=
                        'saveChanges' onclick=
                        "saveChanges(); return false;"><i class=
                        "icon-white icon-heart"></i>Save Changes</a> <a class=
                        "btn btn-info btn-large" href="#" onclick=
                        "doFormLogin(); return false;"><i class=
                        "icon-white icon-heart"></i>Revert</a></h3>
                    </div>
                    <div class="panel-body">
                        <table id="addinput">
                            <tr>
                                <th>Owner</th>
                                <th>Select Campaign to Edit</th>
                            </tr>
                            <tr id="row0">
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div id="selection">
                Selected: None
            </div>
            <ul class="nav nav-tabs" id="myTab">
                <li>
                    <a data-toggle="tab" href="#images">Images</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#attributes">Attributes</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#templates">Templates</a>
                </li>
                <li class='active'>
                    <a data-toggle="tab" href="#do_creatives">Creatives</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#constraints">Constraints</a>
                </li>
                <li>
                    <a data-toggle="tab" href="#zstatus">Status</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade" id="images">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">Upload New Images (across
                            all campaigns)</h3>
                        </div>
                        <div class="panel-body">
                            <form id="fileinfo" method="post" name="fileinfo"
                            onsubmit="return submitForm();">
                                <label>Select a file:</label><br>
                                <input id="file" required="" type="file">
                                <input id="file-name" name="file-name"
                                placeholder="New file name..." type="text">
                                <input id='uploadFile' type="submit" value=
                                "Upload">
                                <hr>
                            </form>
                        </div>
                    </div>
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">Manage Current Images
                            (across all campaigns)</h3>
                        </div>
                        <div class="panel-body">
                            <table id="addimages" rules='all'>
                                <tr>
                                    <th>Image</th>
                                    <th>Filename</th>
                                </tr>
                                <tr id="row0">
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="attributes">
                    <form action="#" method="get">
                        <div class="form-group">
                            <div class="col-lg-2">
                                <label for="name">Ad Domain</label>
                                <input class="form-control" id="adomain"
                                placeholder="Enter ad domain" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-2">
                                <label for="adid">Ad Id</label> <input class=
                                "form-control" disabled="true" id="adid"
                                placeholder="Ad ID" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-2">
                                <label for="startdate">Start Date</label>
                                <input class="form-control" id="startdate"
                                placeholder="Start date" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-2">
                                <label for="enddate">End Date</label>
                                <input class="form-control" id="enddate"
                                placeholder="End date" type="text">
                            </div>
                        </div>
                        <div class="checkbox">
                            <label><input type="checkbox"> Check me out</label>
                        </div><button class="btn btn-default" type=
                        "submit">Submit</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="templates">
                    <div class="form-group">
                        <div class="col-lg-2">
                            <label for="default">Default</label> <input id=
                            "default" placeholder="Default template" size='120'
                            type="text">
                        </div><br>
                        <table id="addtemplate">
                            <tr>
                                <th>Exchange</th>
                                <th>Template</th>
                            </tr>
                            <tr id="row0">
                                <td><input id="p_new_exchange" name="p_new_x"
                                placeholder="exchange name" size="20" type=
                                "text" value=""></td>
                                <td><input id="p_new_template" name="p_new"
                                placeholder="template is here" size="100" type=
                                "text" value=""></td>
                                <td>
                                    <a href=
                                    "javascript:doDynoTemplate();">Add</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="tab-pane fade in active" id="do_creatives">
                    <h3><b><i>Native Content</i></b><i></i></h3>
                    <table id="addnative">
                        <tr>
                            <th></th>
                            <th>Imp ID</th>
                            <th>Type</th>
                            <th>Price</th>
                            <th>Cur</th>
                            <th>Asset Editor</th>
                        </tr>
                        <tr id="row0">
                            <td></td>
                            <td><input id="p_new_impid_native" name="p_new"
                            placeholder="Impression ID" size="20" type="text"
                            value=""></td>
                            <td><select class="selectpicker" id=
                            "p_new_native_type">
                                <option>
                                    Content Wall
                                </option>
                                <option selected>
                                    App Wall
                                </option>
                                <option>
                                    News Feed
                                </option>
                                <option>
                                    Chat List
                                </option>
                                <option>
                                    Carousel
                                </option>
                                <option>
                                    Content Stream
                                </option>
                                <option>
                                    Grid Adjoining
                                </option>
                            </select></td>
                            <td><input id="p_new_native_price" name="p_new"
                            placeholder="0.0" size="10" type="text" value=
                            ""></td>
                            <td><input id="p_new_native_cur" name="p_new"
                            placeholder="0.0" size="10" type="text" value=
                            "USD"></td>
                            <td></td>
                            <td>
                                <a href="javascript:doDynoNative();">Add</a>
                            </td>
                        </tr>
                    </table>
                    <hr>
                    <h3><b><i>Banner Content</i></b><i></i></h3>
                    <table id="addcreative">
                        <tr>
                            <th></th>
                            <th>Forward Url</th>
                            <th>Image Url</th>
                            <th>Imp ID</th>
                            <th>W</th>
                            <th>H</th>
                            <th>Price</th>
                            <th>Cur</th>
                            <th>Editor</th>
                        </tr>
                        <tr id="row0">
                            <td></td>
                            <td><input id="p_new_forward_url" name="p_new_x"
                            placeholder="Forward URL" size="50" type="text"
                            value=""></td>
                            <td><input id="p_new_image_url" name="p_new"
                            placeholder="Image URL" size="50" type="text"
                            value=""></td>
                            <td><input id="p_new_impid" name="p_new"
                            placeholder="Impression ID" size="20" type="text"
                            value=""></td>
                            <td><input id="p_new_w" name="p_new" placeholder=
                            "width" size="6" type="text" value=""></td>
                            <td><input id="p_new_h" name="p_new" placeholder=
                            "height" size="6" type="text" value=""></td>
                            <td><input id="p_new_price" name="p_new"
                            placeholder="price" size="6" type="text" value=
                            "0.0"></td>
                            <td><input id="p_new_cur" name="p_new" placeholder=
                            "price" size="6" type="text" value="USD"></td>
                            <td></td>
                            <td>
                                <a href="javascript:doDynoCreative();">Add</a>
                            </td>
                        </tr>
                    </table>
                    <div id='show-banner'></div>
                    <p></p>
                    <h3><b><i>Video</i></b><i></i></h3>
                    <table id="addvideocreative">
                        <tr>
                            <th></th>
                            <th>Imp ID</th>
                            <th>W</th>
                            <th>H</th>
                            <th>Price</th>
                            <th>Cur</th>
                            <th>Tag Editor</th>
                        </tr>
                        <tr id="row0">
                            <td></td>
                            <td><input id="v_new_impid" name="p_new"
                            placeholder="Impression ID" size="20" type="text"
                            value=""></td>
                            <td><input id="v_new_w" name="p_new" placeholder=
                            "width" size="6" type="text" value=""></td>
                            <td><input id="v_new_h" name="p_new" placeholder=
                            "height" size="6" type="text" value=""></td>
                            <td><input id="v_new_price" name="p_new"
                            placeholder="0.0" size="6" type="text" value=
                            ""></td>
                            <td><input id="v_new_cur" name="p_new" placeholder=
                            "0.0" size="6" type="text" value="USD"></td>
                            <td></td>
                            <td>
                                <a href=
                                "javascript:doDynoVideoCreative();">Add</a>
                            </td>
                        </tr>
                    </table><!-- Modal -->
                    </div>
                   
                <div class="tab-pane fade" id="constraints">
                    <table id="addconstraints">
                        <tr>
                            <th>Constraint Name</th>
                            <th>Operation</th>
                            <th>Constraint Value</th>
                            <th>Required</th>
                        </tr>
                        <tr id="row0">
                            <td><input id="p_new_constraint" name=
                            "p_new_constraint" placeholder="constraint" size=
                            "40" type="text" value=""></td>
                            <td><select class='form-control' id='opselect'>
                                <option value='EQUALS'>
                                    EQUALS
                                </option>
                                <option value='NOT_EQUALS'>
                                    NOT_EQUALS
                                </option>
                                <option value='MEMBER'>
                                    MEMBER
                                </option>
                                <option value='NOT_MEMBER'>
                                    NOT_MEMBER
                                </option>
                                <option value='INTERSECTS'>
                                    INTERSECTS
                                </option>
                                <option value='NOT_INTERSECTS'>
                                    NOT_INTERSECTS
                                </option>
                                <option value='INRANGE'>
                                    INRANGE
                                </option>
                                <option value='NOT_INRANGE'>
                                    NOT_INRANGE
                                </option>
                                <option value='LESS_THAN'>
                                    LESS_THAN
                                </option>
                                <option value='LESS_THAN_EQUALS'>
                                    LESS_THAN_EQUALS
                                </option>
                                <option value='GREATER_THAN'>
                                    GREATER_THAN
                                </option>
                                <option value='GREATER_THAN_EQUALS'>
                                    GREATER_THAN_EQUALS
                                </option>
                                <option value='DOMAIN'>
                                    DOMAIN
                                </option>
                                <option value='NOT_DOMAIN'>
                                    NOT_DOMAIN
                                </option>
                            </select></td>
                            <td><input id="p_new_value" name="p_new_values"
                            placeholder="values are here" size="40" type="text"
                            value=""></td>
                            <td><input checked id="p_required" type=
                            "checkbox"></td>
                            <td>
                                <a href=
                                "javascript:addNewConstraint();">Add</a>
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="tab-pane fade" id="zstatus">
                    <table id="addstatus" rules='all'>
                        <tr>
                            <th>Campaign</th>
                            <th>Action</th>
                        </tr>
                        <tr id="row0">
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            
            
            
            
                                    <div class="modal fade" id="bannerModal" role="dialog">
                            <div class="modal-dialog modal-lg">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class=
                                    "modal-header modal-header-primary">
                                        <button class="close" data-dismiss=
                                        "modal" type="button">&times;</button>
                                        <h4 class="modal-title">BANNER
                                        Constraint Editor</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table id="addbannerconstraints">
                                            <tr>
                                                <th>Constraint Name</th>
                                                <th>Operation</th>
                                                <th>Constraint Value</th>
                                            </tr>
                                            <tr id="row0">
                                                <td><input id=
                                                "banner_new_constraint" name=
                                                "banner_new_constraint"
                                                placeholder="constraint" size=
                                                "40" type="text" value=""></td>
                                                <td><select class=
                                                'form-control' id=
                                                'banner_opselect'>
                                                    <option value='EQUALS'>
                                                        EQUALS
                                                    </option>
                                                    <option value='NOT_EQUALS'>
                                                        NOT_EQUALS
                                                    </option>
                                                    <option value='MEMBER'>
                                                        MEMBER
                                                    </option>
                                                    <option value='NOT_MEMBER'>
                                                        NOT_MEMBER
                                                    </option>
                                                    <option value='INTERSECTS'>
                                                        INTERSECTS
                                                    </option>
                                                    <option value=
                                                    'NOT_INTERSECTS'>
                                                        NOT_INTERSECTS
                                                    </option>
                                                    <option value='INRANGE'>
                                                        INRANGE
                                                    </option>
                                                    <option value=
                                                    'NOT_INRANGE'>
                                                        NOT_INRANGE
                                                    </option>
                                                    <option value='LESS_THAN'>
                                                        LESS_THAN
                                                    </option>
                                                    <option value=
                                                    'LESS_THAN_EQUALS'>
                                                        LESS_THAN_EQUALS
                                                    </option>
                                                    <option value=
                                                    'GREATER_THAN'>
                                                        GREATER_THAN
                                                    </option>
                                                    <option value=
                                                    'GREATER_THAN_EQUALS'>
                                                        GREATER_THAN_EQUALS
                                                    </option>
                                                    <option value='DOMAIN'>
                                                        DOMAIN
                                                    </option>
                                                    <option value='NOT_DOMAIN'>
                                                        NOT_DOMAIN
                                                    </option>
                                                </select></td>
                                                <td><input id=
                                                "banner_new_value" name=
                                                "v_new_values" placeholder=
                                                "values are here" size="40"
                                                type="text" value=""></td>
                                                <td>
                                                    <a href=
                                                    "javascript:addNewBannerConstraint();">
                                                    Add</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-default"
                                        data-dismiss="modal" onclick=
                                        'closeBannerModal();' type=
                                        "button">Save and Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
            
            
          <div class="modal fade" id="nativeModal" role="dialog">
                        <div class="modal-dialog modal-lg">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header modal-header-primary">
                                    <button class="close" data-dismiss="modal"
                                    type="button">&times;</button>
                                    <h4 class="modal-title">Native Ad
                                    Editor</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="panel panel-warning">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">
                                            Required</h3>
                                        </div>
                                        <div class="panel-body">
                                            <input class="form-control" id=
                                            "native-url" placeholder=
                                            "The main url" type="text">
                                            <input class="form-control" id=
                                            "native-fallbackurl" placeholder=
                                            "The fallback url" type="text">
                                            <div class="panel panel-info">
                                                <div class="panel-heading">
                                                    <h3 class="panel-title">
                                                    Click Trackers</h3>
                                                </div>
                                                <div class="panel-body">
                                                    <table id=
                                                    "addclicktrackers">
                                                        <tr>
                                                            <th>Click Tracking
                                                            URLS</th>
                                                        </tr>
                                                        <tr>
                                                            <td></td>
                                                        </tr>
                                                        <tr id="row0">
                                                            <td><input class=
                                                            "form-control" id=
                                                            "new-clicktrack"
                                                            placeholder=
                                                            "The click tracking URL"
                                                            size="50" type=
                                                            "text"></td>
                                                            <td></td>
                                                            <td>
                                                                <a href=
                                                                "javascript:doDynoClickTracker();">
                                                                Add</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="panel panel-info">
                                                <div class="panel-heading">
                                                    <h3 class="panel-title">
                                                    Impression Trackers</h3>
                                                </div>
                                                <div class="panel-body">
                                                    <table id=
                                                    "addimpressiontrackers">
                                                        <tr>
                                                            <th>Impression
                                                            Tracking URLS</th>
                                                        </tr>
                                                        <tr>
                                                            <td></td>
                                                        </tr>
                                                        <tr id="row0">
                                                            <td><input class=
                                                            "form-control" id=
                                                            "new-impressiontrack"
                                                            placeholder=
                                                            "The impression tracking URL"
                                                            size="50" type=
                                                            "text"></td>
                                                            <td></td>
                                                            <td>
                                                                <a href=
                                                                "javascript:doDynoImpressionTracker();">
                                                                Add</a>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-info">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Title</h3>
                                        </div>
                                        <div class="panel-body">
                                            <input class="form-control" id=
                                            "native-ad-title" placeholder=
                                            "Title of the ad" type="text">
                                            <input class="form-control" id=
                                            "native-ad-title-cta" placeholder=
                                            "Call to action URL" type="text">
                                        </div>
                                    </div>
                                    <div class="panel panel-info">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Image</h3>
                                        </div>
                                        <div class="panel-body">
                                            <input class="form-control" id=
                                            "native-ad-image-url" placeholder=
                                            "Image URL" type="text"> W:
                                            <input id='native-ad-image-w'
                                            placeholder='width' size='6' type=
                                            'text' value=''> H: <input id=
                                            'native-ad-image-h' placeholder=
                                            'height' size='6' type='text'
                                            value=''> <input class=
                                            "form-control" id=
                                            "native-ad-image-cta" placeholder=
                                            "Call to action URL" type="text">
                                        </div>
                                    </div>
                                    <div class="panel panel-info">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Video</h3>
                                        </div>
                                        <div class="panel-body">
                                            Duration (secs): <input id=
                                            'native-image-duration'
                                            placeholder='0.0' size='10' type=
                                            'text' value=''> Protocol:
                                            <select class="selectpicker" id=
                                            "native-image-protocol">
                                                <option value="VAST 1.0">
                                                    VAST 1.0
                                                </option>
                                                <option selected value=
                                                "VAST 2.0">
                                                    VAST 2.0
                                                </option>
                                                <option value="VAST 3.0">
                                                    VAST 3.0
                                                </option>
                                                <option value=
                                                "VAST 1.0 Wrapper">
                                                    VAST 1.0 Wrapper
                                                </option>
                                                <option value=
                                                "VAST 2.0 Wrapper">
                                                    VAST 2.0 Wrapper
                                                </option>
                                                <option value=
                                                "VAST 3.0 Wrapper">
                                                    VAST 3.0 Wrapper
                                                </option>
                                            </select> Linearity: <input id=
                                            "native-image-linearity" size="5"
                                            type="text" value="0">
                                            <input class="form-control" id=
                                            "native-image-xml" type="text"
                                            value="XML Goes Here">
                                        </div>
                                    </div>
                                    <div class="panel panel-warning">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Link</h3>
                                        </div>
                                        <div class="panel-body">
                                            <input class="form-control" id=
                                            "native-ad-link-url" placeholder=
                                            "Link URL" type="text">
                                            <input class="form-control" id=
                                            "native-ad-link-fallback-url"
                                            placeholder="Link Fallback URL"
                                            type="text">
                                        </div>
                                    </div>
                                    <div class="panel panel-info">
                                        <div class="panel-heading">
                                            <h3 class="panel-title">Data
                                            Assets</h3>
                                        </div>
                                        <div class="panel-body">
                                            <table id="addassets">
                                                <tr>
                                                    <th>Data Type</th>
                                                    <th>Data Asset Value</th>
                                                    <th>Call to Action</th>
                                                </tr>
                                                <tr id="row0">
                                                    <td><select class=
                                                    "selectpicker" id=
                                                    "p_new_data_asset_type">
                                                        <option>
                                                            Sponsored
                                                        </option>
                                                        <option selected>
                                                            Descriptive text
                                                        </option>
                                                        <option>
                                                            Rating
                                                        </option>
                                                        <option>
                                                            Likes
                                                        </option>
                                                        <option>
                                                            Downloads
                                                        </option>
                                                        <option>
                                                            Price
                                                        </option>
                                                        <option>
                                                            Sale Price
                                                        </option>
                                                        <option>
                                                            Phone
                                                        </option>
                                                        <option>
                                                            Address
                                                        </option>
                                                        <option>
                                                            Additional
                                                            description
                                                        </option>
                                                        <option>
                                                            Display URL for the
                                                            text ad
                                                        </option>
                                                        <option>
                                                            Call To Action Text
                                                        </option>
                                                    </select></td>
                                                    <td><input id=
                                                    'p_new_data_asset_value'
                                                    placeholder='Data value'
                                                    size='30' type='text'
                                                    value=''></td>
                                                    <td><input id=
                                                    'p_new_data_coa_value'
                                                    placeholder=
                                                    'Call to action value'
                                                    size='30' type='text'
                                                    value=''></td>
                                                    <td>
                                                        <a href=
                                                        "javascript:doDynoAssets();">
                                                        Add</a>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-default"
                                    data-dismiss="modal" onclick=
                                    'closeNativeModal();' type="button">Save
                                    and Close</button>
                                </div>
                            </div>
                        </div>
                    </div><!-- Modal -->
                    <div class="modal fade" id="videoModal" role="dialog">
                        <div class="modal-dialog modal-lg">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header modal-header-primary">
                                    <button class="close" data-dismiss="modal"
                                    type="button">&times;</button>
                                    <h4 class="modal-title">VIDEO Editor</h4>
                                </div>
                                <div class="modal-body">
                                    Protocol:<input id="video-protocol"
                                    placeholder="Protocol" size="5" type="text"
                                    value=""> Linearity:<input id=
                                    "video-linearity" placeholder="Linearity"
                                    size="5" type="text" value="">
                                    Mime:<input id="video-mime" placeholder=
                                    "Mime" size="30" type="text" value="">
                                    Length:<input id="video-duration"
                                    placeholder="Duration" size="5" type="text"
                                    value=""><br>
                                    <label for="comment">Raw Video
                                    Tags:</label> 
                                    <textarea class="form-control" id=
                                    "rawVideo" rows="10">
</textarea> <button class="btn btn-default" onclick='doFormatXML(false);'
                                    type="button">Format</button>
                                    <button class="btn btn-default" onclick=
                                    'doFormatXML(true);' type=
                                    "button">Minify</button>
                                    <table id="addvideoconstraints">
                                        <tr>
                                            <th>Constraint Name</th>
                                            <th>Operation</th>
                                            <th>Constraint Value</th>
                                        </tr>
                                        <tr id="row0">
                                            <td><input id="v_new_constraint"
                                            name="v_new_constraint"
                                            placeholder="constraint" size="40"
                                            type="text" value=""></td>
                                            <td><select class='form-control'
                                            id='vopselect'>
                                                <option value='EQUALS'>
                                                    EQUALS
                                                </option>
                                                <option value='NOT_EQUALS'>
                                                    NOT_EQUALS
                                                </option>
                                                <option value='MEMBER'>
                                                    MEMBER
                                                </option>
                                                <option value='NOT_MEMBER'>
                                                    NOT_MEMBER
                                                </option>
                                                <option value='INTERSECTS'>
                                                    INTERSECTS
                                                </option>
                                                <option value='NOT_INTERSECTS'>
                                                    NOT_INTERSECTS
                                                </option>
                                                <option value='INRANGE'>
                                                    INRANGE
                                                </option>
                                                <option value='NOT_INRANGE'>
                                                    NOT_INRANGE
                                                </option>
                                                <option value='LESS_THAN'>
                                                    LESS_THAN
                                                </option>
                                                <option value=
                                                'LESS_THAN_EQUALS'>
                                                    LESS_THAN_EQUALS
                                                </option>
                                                <option value='GREATER_THAN'>
                                                    GREATER_THAN
                                                </option>
                                                <option value=
                                                'GREATER_THAN_EQUALS'>
                                                    GREATER_THAN_EQUALS
                                                </option>
                                                <option value='DOMAIN'>
                                                    DOMAIN
                                                </option>
                                                <option value='NOT_DOMAIN'>
                                                    NOT_DOMAIN
                                                </option>
                                            </select></td>
                                            <td><input id="v_new_value" name=
                                            "v_new_values" placeholder=
                                            "values are here" size="40" type=
                                            "text" value=""></td>
                                            <td>
                                                <a href=
                                                "javascript:addNewVideoConstraint();">
                                                Add</a>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-default"
                                    data-dismiss="modal" onclick=
                                    'closeVideModal();' type="button">Save and
                                    Close</button>
                                </div>
                            </div>
                        </div><!-- Modal -->
                        

                    </div>
                </div>   
            
            
            
            
            
            
            
        </div>
        <script>

        userName = null;
        currentCampaign = null;
        videoCreative = null;           // the video creative last edited in the modal dialog
        videoEditorCell = null;         // the row of the video creative edited in the modal dialog
        disableTabs(true);
        campaignDeletions = [];


        function submitForm() {
        var fd = new FormData();
        var name = document.getElementById("file-name").value;
        fd.append('file',$('input[type=file]')[0].files[0]); 
        fd.append('name',name);
            $.ajax({
              url: "upload",
              type: "POST",
              dataType: 'json',
              data: fd,
              enctype: 'multipart/form-data',
              processData: false,  // tell jQuery not to process the data
              contentType: false   // tell jQuery not to set contentType
            }).done(function( data ) {

                images = data.images;
                imagesTable.clear();
                loadImages();

            });
            return false;
        }





        function loadImages() {
        if (typeof images === 'undefined')
        return;

        for (var i = 0; i < images.length; i++) {
        imagesTable.add([images[i].uri,images[i].name,'']);
        }
        }

        function revert() {
        clearFields();
        doFormLogin();
        }


        function doFormLogin() {
        userName = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        console.log("U="+userName+", P="+password);

        document.getElementById("selected").innerHTML = userName;


        if (userName === 'demo') {
        doDemo();
        }


        //setTimeout(function(){window.location.href='campaign'},0);

        msg = {};
        msg.command = "login";
        msg.username = userName;
        msg.password = password;
        ////////////////////
        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(msg),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
            text = request.responseText;
            data = JSON.parse(text);
            message = data.message;
            text = JSON.stringify(data,null,2);
            console.log("-----------------");
            console.log(text);
           }
           if (data.error) {
                doModal(BootstrapDialog.TYPE_DANGER,"Error","Error logging in");
                return;
           }
           else {
        var ele = document.getElementById("login");
            ele.style.display = "none";

        ele = document.getElementById("bs-example");
        ele.style.display = "block";

        clearFields();
        //userName = name = data.username;
        camps = data.campaigns;
        running = data.running;
        for (i=0;i<camps.length;i++) {
                campaign = camps[i];
                dyno.add([campaign.owner, campaign.adId,'']);
                value = campStatus.add([campaign.adId,'']);
                console.log("ADDED: " + value);
           }
           updateStatus(running);
           images = data.images;
           loadImages();

           }
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"Error",request.responseText);
         }});
        ////////////////////
        }

        $(document).ready(function(){
        $(".tip-top").tooltip({placement : 'top'});
        $(".tip-right").tooltip({placement : 'right'});
        $(".tip-bottom").tooltip({placement : 'bottom'});
        $(".tip-left").tooltip({ placement : 'left'});
        });

        $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip();   
        });


        function saveChanges() {
        /*
        * Get selected campaign name
        * Get the running status of this campaign
        * Load the attributes
        * Load the templates
        * Load the creatives
        * Load the constraints
        * Upload with jquery
        * If running then print a message you have to stop/start for the system to take effect
        */


        if (document.getElementById("adomain").value == "") {
            doModal(BootstrapDialog.TYPE_WARN,"Warning","You haven't selected a campaign yet");
            return;
        } 

        /* Attributes */
        campaign = getCampaign(currentCampaign);
        campaign.adomain = document.getElementById("adomain").value;
        campaign.adId = document.getElementById("adid").value = currentCampaign;
        d1 =  document.getElementById("startdate").value;
        d2 = document.getElementById("enddate").value;
        campaign.dates = [];
        campaign.dates.push(Number(d1));
        campaign.dates.push(Number(d2));

        /* templates */
        campaign.template = {};
        campaign.template.default = document.getElementById("default").value;
        campaign.template.exchange = {};
        table = document.getElementById("addtemplate");
        rows = table.rows;
        for (i = 2; i < rows.length; i++) {
        a = rows[i].cells[0].children[0].value;
        b = rows[i].cells[1].children[0].value;
        campaign.template.exchange[a] = b;
        }  

        /* banner creatives */
        table = document.getElementById("addcreative");
        rows = table.rows;
        for (i = 2; i < rows.length; i++) {
        var a = rows[i].cells[1].children[0].value;
        var b = rows[i].cells[2].children[0].value;
        var c = rows[i].cells[3].children[0].value;
        var d = rows[i].cells[4].children[0].value;
        var e = rows[i].cells[5].children[0].value;
        var f = rows[i].cells[6].children[0].value;
        var g = rows[i].cells[7].children[0].value;

        creative = getCreative(campaign,c);;
        creative.forwardurl = a;
        creative.imageurl = b;
        creative.w = d;
        creative.h = e;
        creative.price = f;
        creative.currency = g;
        }

        /* Video creatives */
        table = document.getElementById("addvideocreative");
        rows = table.rows;
        for (i = 2; i < rows.length; i++) {
        a = rows[i].cells[1].children[0].value;    // impression id
        b = rows[i].cells[2].children[0].value;    // width
        c = rows[i].cells[3].children[0].value;    // height
        d = rows[i].cells[4].children[0].value;    // price
        e = rows[i].cells[5].children[0].value;    // currency

        creative = getCreative(campaign,a);;
        creative.w = b;
        creative.h = c;
        creative.price = d;
        creative.currency = e;
        }


        /* Native creatives */
        table = document.getElementById("addnative");
        rows = table.rows;
        for (i = 2; i < rows.length; i++) {
        id = rows[i].cells[1].children[0].value;   
        type = rows[i].cells[2].children[0].value;   
        price = rows[i].cells[3].children[0].value;  
        cur = rows[i].cells[4].children[0].value;

        creative = getCreative(campaign,id); 
        creative.type = getNativeAdType(type);
        creative.price = price;
        creative.currency = cur;
         
        }

        /* constraints */
        attributes = [];
          table = document.getElementById("addconstraints");
        rows = table.rows;
        for (i = 2; i < rows.length; i++) {
        a = rows[i].cells[0].children[0].value;
        a = a.split(".");

        b = rows[i].cells[1].children[0].value;
        c = eval(rows[i].cells[2].children[0].value);
        d = rows[i].cells[3].children[0].checked;
        obj = {};
        obj.bidRequestValues = a;
        obj.op = b;
        obj.value = c;
        obj.required = d;
        attributes.push(obj);
        }
        campaign.attributes = attributes; 

        console.log(JSON.stringify(campaign,null,2));


        ///////////////////
            data = {
                command: 'updatecampaign',
                username: userName,
                id: campaign.adId,
                campaign: JSON.stringify(campaign,null,2)
            };
        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(data),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
            text = request.responseText;
            data = JSON.parse(text);
            if (data.campaigns != null) {
                camps = data.campaigns;
            }
            message = data.message;
            text = JSON.stringify(data,null,2);
            console.log("-----------------");
            console.log(text);
           }
           if (data.error)
                doModal(BootstrapDialog.TYPE_INFO,"Error",message);
           else
                doModal(BootstrapDialog.TYPE_SUCCESS,"Update succeeded","If this campaign is running already, please stop/start it now.");
               
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"HTTP Error",request.responseText);
         }});
        //////////////////
        }


        function doDyno() {
            var newName = document.getElementById("ad_domain").value;

            if (newName == '') {
                doModal(BootstrapDialog.TYPE_INFO,"Error","Can't have a blank ad domain");
                return;
            }
            
            ///////////////////////////////////////////////////
               data = {
                    command: 'stub',
                username: userName,
                campaign: newName
            };

        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(data),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
           
            text = request.responseText;
            data = JSON.parse(text);
            
            camp = data.campaign;
            camps.push(camp);
            message = data.message;
            text = JSON.stringify(data,null,2);
         
           }
         //  console.log("data = " + JSON.stringify(camps,null,2));
           if (message != null && message != "")
                doModal(BootstrapDialog.TYPE_INFO,"Error",message);
               
            dyno.add([camp.owner, camp.adId,'']);
            document.getElementById("ad_domain").value = "";
            campStatus.add([camp.adId,'']);

         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"HTTP Error",request.responseText);
         }});
            
            ////////////////////////////////////////////////////
            
            
         }
         
         /* Add click tracking URLS */
         function doDynoClickTracker() {
            var url = document.getElementById('new-clicktrack').value;
            clickDyno.add([url]);
            docuemnt.getElementById('new-clicktrack').value = '';
         }
         
         /* Add impressopm tracking URLS */
         function doDynoImpressionTracker() {
            var url = document.getElementById('new-impressiontrack').value;
            impressionDyno.add([url]);
            document.getElementById('new-impressiontrack').value = '';
         }
         
         /* add native data asset */
         function doDynoAssets() {
            var type = document.getElementById("p_new_data_asset_type");
            var val = document.getElementById("p_new_data_asset_value");
            var coa = document.getElementById("p_new_data_coa_value");
            assetsDyno.add([type.value,coa.value]);
            val.value = "";
         }
         
         /* add native ad creative */
        function doDynoNative() {
            var impid = document.getElementById("p_new_impid_native");
            var type = document.getElementById("p_new_native_type");
            var price = document.getElementById("p_new_native_price");
            var cur = document.getElementById("p_new_native_cur");
            natDyno.add(['',impid.value,type.value,price.value,cur.value,'']);
            impid.value =  '';
            price.value = "0.0";
        }
         
         /* add banner creative */
         function doDynoCreative() {
            var fURL = document.getElementById("p_new_forward_url");
            var iURL = document.getElementById("p_new_image_url");
            var impid = document.getElementById("p_new_impid");
            var w = document.getElementById("p_new_w");
            var h = document.getElementById("p_new_h");
            var price = document.getElementById("p_new_price");
            var cur = document.getElementById("p_new_cur");
            
            /** Make the banner creative */
            var banner = {};
            banner.forwardurl = fURL.value;
            banner.imageurl = iURL.value
            banner.impid = impid.value;     
            banner.w = w.value;
            bannere.h = h.value;
            banner.price = price.value;
            banner.currency  = cur.value;

            /** add to the creatives */
            campaign.creatives.push(banner);
            
            /** add the row */
            creativeDyno.add(['',fURL.value,iURL.value,impid.value,w.value,h.value,price.value,cur.value,'','']);
            fURL.value =  iURL.value = impid.value = w.value = h.value = price.value = cur.value = '';

         }
         
         /* Create a new video impression object */
         function doDynoVideoCreative() {
            var impid = document.getElementById("v_new_impid");
            var w = document.getElementById("v_new_w");
            var h = document.getElementById("v_new_h");
            var price = document.getElementById("v_new_price");
            var cur = document.getElementById("v_new_cur");
            var campaign = getCampaign(currentCampaign);
            var creative = getCreative(campaign,impid.value);
            var vadm = document.getElementById('rawVideo');
            var protocol = document.getElementById('video-protocol');
            var mime = document.getElementById('video-mime');
            var duration = document.getElementById('video-duration');
            var linearity = document.getElementById('video-linearity');
            
            if (creative != null) {
                alert("This impression id already exists");
                return;
            }
            
            videoCreative = {};

            videoCreative.impid = impid.value;     
            videoCreative.w = w.value;
            videoCreative.h = h.value;
            videoCreatice.price = price.value;
            videoCreative.currency = cur.value;
            videoCreative.attributes = processVideoModalAttributes();
            videoCreative.adm = vadm.value.split("\n");
            
            if (protocol.value != '')
                videoCreative.videoProtocol = protocol.value;
            if (mime.value != '')
                videoCreative.videoMimeType = mime.value;
            if (duration.value != '')
                videoCreative.videoDuration = duration.value;
            if (linearity.value != '')
                videoCreative.videoLinearity = linearity.value;

            campaign.creatives.push(videoCreative);
            
            videoCreativeDyno.add(['',impid.value,w.value,h.value,price.value,cur.value,'','']);
            impid.value = w.value = h.value = vadm.value =  price.value = cur.value = ''
            vdyno.clear();
            document.getElementById('rawVideo').value = '';
            document.getElementById('video-protocol').value = '';
            document.getElementById('video-linearity').value = '';
            document.getElementById('video-mime').value = '';
            document.getElementById('video-duration').value = '';
         }
         
        /* Find creative impid in the campaign */
        function getCreative(campaign,impid) {
        for (var i = 0; i < campaign.creatives.length; i++) {
            if (campaign.creatives[i].impid == impid)
                return campaign.creatives[i];
        }
        return null;
        }
         
        /*
        * iterate through the row of the table, when you find one in the list of running
        * update the start stop button
        */

        function updateStatus(running) {
        /** 
        * Update the status pane
        */
        table = document.getElementById("addstatus");
        rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
        row = rows[i];
        cell = row.cells[0];
        label = cell.innerText;
        cell = row.cells[1];
        button = cell.children[0];
        text = button.value;
        button.style.background = "#A9A9A9";
            for (var j = 0; j<running.length;j++) {
                if (label == running[j]) {
                    button.value = "Stop";
                    button.style.background='#7FFF00';
                }
            }
        console.log(text);
        }

        /*
        * Update the main pane 
        */
        table = document.getElementById("addinput");
        rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
        row = rows[i];
        cell = row.cells[1];
        button = cell.children[0];
        label = button.value;
        button.style.background = "#A9A9A9";
        for (var j = 0; j<running.length;j++) {
            if (label == running[j]) {
                button.style.background='#7FFF00';
            }
        }
        }
        }

        function getCampaign(id) {
        for (var i = 0; i < camps.length; i++) {
        var camp = camps[i];
        if (camp.adId == id)
            return camp;
        }
        return null;
        }

        function clearFields() {
        dyno.clear();
        tdyno.clear();
        campStatus.clear();
        cdyno.clear();
        vdyno.clear();
        videoCreativeDyno.clear();   
        creativeDyno.clear();
        clickDyno.clear();
        natDyno.clear();
        impressionDyno.clear();
        currentCampaign = null;
        images = [];
        imagesTable.clear();
        document.getElementById("selection").innerHTML = "Selected: None";
        document.getElementById("adomain").value = "";
        document.getElementById("adid").value = "";
        document.getElementById("startdate").value = "";
        document.getElementById("enddate").value = "";
        }
           

        function deleteCampaign(what,id) {
        dyno.remove(what);    
        campaignDeletions.push(id);
        }

        function deleteCampaigns() {
        if (campaignDeletions.length == 0)
            return;
        deleteCampaignR(0);
        }

        /**
        * Recurtive delete listedf campaigns
        */
        function deleteCampaignR(index) {
        id = campaignDeletions[index];
        var parts = id.split(":");
        var celln = Number(parts[1])-1; 
        celln = parts[0] + ":" + celln +":" + parts[2];
        var value = document.getElementById(celln).value;
        console.log("REMOVE VAL: " + value);
        //////////////////
        ///////////////////
               data = {
                    command: 'deletecampaign',
                username: userName,
                campaign: value
            };
        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(data),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
            text = request.responseText;
            data = JSON.parse(text);
            if (data.campaigns != null) {
                camps = data.campaigns;
            }
            message = data.message;
            text = JSON.stringify(data,null,2);
            console.log("-----------------");
            console.log(text);
           }
           if (message != null && message != "")
                doModal(BootstrapDialog.TYPE_INFO,"Error",message);
                  
            deleteStatusRowById(value);
            
            if (index + 1 == campaignDeletions.length) {
                campaignDeletions = [];
                return;
            }
            else
                deleteCampaignR(index+1);
            
            
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"HTTP Error",request.responseText);
         }});
        //////////////////
        //////////////////
        }

        function deleteAssetsRow(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        assetsDyno.remove(what);
        }

        function deleteStatusRowById(id) {
        table = document.getElementById("addstatus");
        rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
        row = rows[i];
        cell = row.cells[0];
        label = cell.innerText;
        if (label == id) {
            delid = row.id;
            campStatus.remove(delid);
            return;
        }
        }
        }

        function processCampaign(what) {

        if (currentCampaign != null) {

        }

        var x = document.getElementById(what).value;
        console.log("PROCESS WHAT: " + x);

        videoCreativeDyno.clear();
        creativeDyno.clear();
        natDyno.clear();
        videoCreative = null;           
        videoEditorCell = null;     
        document.getElementById("selection").innerHTML = "Selected: " + x;
        disableTabs(false);

        for(var i=0;i<camps.length;i++) {
        var c = camps[i];
        if (c.adId == x) {
            document.getElementById("adomain").value = c.adomain;
            document.getElementById("adid").value = c.adId;
            document.getElementById("startdate").value = c.date[0];
            document.getElementById("enddate").value = c.date[1];
            
            document.getElementById("default").value = c.template.default;
            
            var exchange = c.template.exchange;
            tdyno.clear();
            for (var p in exchange) {
                if( exchange.hasOwnProperty(p) ) {
                    tdyno.add([p,exchange[p],'']);
                } 
            }  
            
            cdyno.clear();
            for (i = 0; i < c.attributes.length; i++) {
                var attribute = c.attributes[i];
                var left = makeDottedAttribute(attribute);
                var op = attribute.op;
                var right = JSON.stringify(attribute.value);
                var req = c.required;
                cdyno.add([left,op,right,req,""]);
                console.log(JSON.stringify(attribute,null,2));
            }       
            
            creativeDyno.clear();    
            for (var j = 0; j< c.creatives.length; j++) {
                creative = c.creatives[j];
                
                if (typeof creative.currency === 'undefined')
                    creative.currency = '';
                
                if (typeof creative.videoDuration != 'undefined') {    // video ad
                    videoCreativeDyno.add(['',creative.impid,creative.w,creative.h,creative.price,creative.currency,'']);
                } else if (typeof creative.nativead == 'undefined') {    // banner ad
                    creativeDyno.add(['',creative.forwardurl,creative.imageurl,creative.impid,creative.w,creative.h,creative.price,creative.currency,'','']);
                } else {    
                     var type = nativeAdTypes[creative.nativead.nativeAdType];
                     natDyno.add(['',creative.impid,type,creative.price,creative.currency]);
                }
                
            } 
            
            
            
            currentCampaign = c.adId;
                          
        }
        }
        }

        function deleteTemplateRow(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        tdyno.remove(what);
        }

        function deleteConstraintRow(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        cdyno.remove(what);
        }


        function deleteVideoConstraintRow(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        vdyno.remove(what);
        }

        function deleteBannerConstraintRow(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        crdyno.remove(what);
        }

        function deleteVideoCreative(what) {
        console.log("DELETE WHAT: " + what);
        videoCreativeDyno.remove(what);
        }

        function deleteNativeCreative(what) {
        console.log("DELETE WHAT: " + what);
        natDyno.remove(what);
        }

        function deleteNativeClickTracking(what) {
        clickDyno.remove(what);
        }

        function deleteNativeImpressionTracking(what) {
        impressionDyno.remove(what);
        }
             
        function deleteCreative(what) {
        console.log("DELETE WHAT: " + what);
        x = document.getElementById(what);
        console.log("val = " + x.value);
        creativeDyno.remove(what);
        }



        function addTemplateRow(id1, id2) {
        o = document.getElementById(id1);
        vals = [];
        vals.push(o.value);
        o.value = "";
        o = document.getElementById(id2);
        vals.push(o.value);
        o.value = "";
        vals.push("");
        tdyno.add(vals); 
        }

        function addNewConstraint() {
        a = document.getElementById("p_new_constraint");
        op = document.getElementById("opselect");
        b = document.getElementById("p_new_value");
        req = document.getElementById("p_required").checked;
        vals = [];
        vals.push(a.value);
        vals.push(op.value);
        vals.push(b.value);
        vals.push(req);
        vals.push("");
        cdyno.add(vals);
        }

        function addNewVideoConstraint() {
        a = document.getElementById("v_new_constraint");
        op = document.getElementById("vopselect");
        b = document.getElementById("v_new_value");
        vals = [];
        vals.push(a.value);
        vals.push(op.value);
        vals.push(b.value);
        vals.push("");
        vdyno.add(vals);
        a.value = '';
        b.value = '';
        }

        function addNewBannerConstraint() {
        a = document.getElementById("banner_new_constraint");
        op = document.getElementById("banner_opselect");
        b = document.getElementById("banner_new_value");
        vals = [];
        vals.push(a.value);
        vals.push(op.value);
        vals.push(b.value);
        vals.push("");
        crdyno.add(vals);
        a.value = '';
        b.value = '';
        }




        function startStop(rowId) {

        if (document.getElementById("username").value === 'demo') {
        doModal(BootstrapDialog.TYPE_ERROR,"Error","Demo login can't stop or start campaigns.");
        return
        }

        console.log("A="+rowId);
        row = document.getElementById(rowId);
        cell = row.cells[0];
        a = cell.textContent;
        cell = row.cells[1];
        inp = cell.children[0];
        b = inp.value;
        campaign = getCampaign(a);
        msg = {};
        msg.username = userName;
        if (b == 'Start') {
        inp.value='Pending...';
        msg.command = 'startcampaign';
        msg.id = campaign.adId;
        } else {
        msg.command = 'stopcampaign';
        msg.id = campaign.adId;
        inp.value = "Start"
        }
        ////////////////////
        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(msg),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
            text = request.responseText;
            data = JSON.parse(text);
            message = data.message;
            text = JSON.stringify(data,null,2);
            console.log("-----------------");
            console.log(text);
           }
           if (data.error)
                doModal(BootstrapDialog.TYPE_INFO,"Error",message);
               
           updateStatus(data.running);
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"HTTP Error",request.responseText);
         }});
        ////////////////////
        }

        function deleteImageRow(rowId) {
        console.log("ROWID = " + rowId);
        row = document.getElementById(rowId);


        row = document.getElementById(rowId);
        cell = row.cells[1];
        a = cell.textContent;
        console.log("Remove: " + a);
        imagesTable.remove(rowId);

        ////////////////////

            msg = {};
              msg.command = 'deletefile';
              msg.file = a;
             msg.username = userName;

        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(msg),
         dataType: 'json',
         success: function(data, textStatus, request){
           if (request.status == 204) {
            text = "";
           } else {
            text = request.responseText;
            data = JSON.parse(text);
            message = data.message;
            text = JSON.stringify(data,null,2);
            console.log("-----------------");
            console.log(text);
           }
           if (data.error)
                doModal(BootstrapDialog.TYPE_INFO,"Error",message);
               
          /// do the business here
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"HTTP Error",request.responseText);
         }});
        ////////////////////

        }

        function runNativeModal(id) {
        var row = document.getElementById(id);
        var cell = row.cells[1];
        savedImpressionId = cell.children[0].value;
        var campaign =  getCampaign(currentCampaign);
        creat = getCreative(campaign,savedImpressionId);
        if (creat == null)
            return;
        document.getElementById('native-url').value = creat.nativead.link.url;
        document.getElementById('native-fallbackurl').value = creat.nativead.link.fallback;

        clickDyno.clear();
        for(var i = 0; i < creat.nativead.link.clicktrackers.length;i++) {
            clickDyno.add([creat.nativead.link.clicktrackers[i]]);
        }

        impressionDyno.clear();
        for (var i = 0; i < creat.nativead.imptrackers.length; i++) {
            impressionDyno.add([creat.nativead.imptrackers[i]]);
        }
        assetsDyno.clear();
        for (var i = 0; i < creat.nativead.assets.length; i++) {
            p = creat.nativead.assets[i];
            if (typeof p.title != 'undefined') {
                document.getElementById('native-ad-title').value = p.title.text;
                if (typeof p.link != 'undefined') {
                    document.getElementById('native-ad-title-cta').value = p.link.url;
                }
            }
            if (typeof p.img != 'undefined') {
                document.getElementById('native-ad-image-url').value = p.img.url;
                document.getElementById('native-ad-image-w').value = p.img.w;
                document.getElementById('native-ad-image-h').value = p.img.h;
                if (typeof p.link != 'undefined') {
                    document.getElementById('native-ad-image-cta').value = p.link.url;
                }
            }
            if (typeof p.video != 'undefined') {
                document.getElementById('native-image-duration').value = p.video.duration;
                document.getElementById('native-image-protocol').value = p.video.protocol;
                document.getElementById('native-image-linearity').value = p.video.linearity;
                document.getElementById('native-image-xml').value = p.video.value;
            }
            if (typeof p.data != 'undefined') {
                var type = p.data.type;
                var text = p.data.value;
                var coa = '';
                if (typeof p.link != 'undefined') {
                    coa = p.link.url;
                }
                var label = assetDataTypes[type];
                assetsDyno.add([label,text,coa]);
            }
        }
        $('#nativeModal').modal('show');
        }

        function closeNativeModal() {
        campaign =  getCampaign(currentCampaign);

        /*
         * Link
         */
        creat = getCreative(campaign,savedImpressionId);
        creat.link.url = document.getElementById('native-url').value;
        creat.link.fallback = document.getElementById('native-fallbackurl').value;

        table = document.getElementById("addclicktrackers");
        creat.link.clicktrackers = [];
        rows = table.rows;
        for (var i = 3; i < rows.length; i++) {
            row = rows[i];
            cell = row.cells[0];
            text = cell.children[0].value;
            creat.link.clicktrackers.push(text);        
        }

        /*
         * Impression trackers
         */
        table = document.getElementById("addimpressiontrackers");
        creat.imptrackers = [];
        rows = table.rows;
        for (var i = 3; i < rows.length; i++) {
            row = rows[i];
            cell = row.cells[0];
            text = cell.children[0].value;
            creat.imptrackers.push(text);       
        }

        creat.assets = [];
        var cta;
        /**
         * Title asset 
         */
        title = document.getElementById('native-ad-title').value;
        if (title != '') {
           asset = {};
           entity = {};
           entity.text = title;
           asset.title = entity;
           cta = document.getElementById("native-ad-title-cta").value;
           if (cta != '') {
              asset.link = {};
              asset.link.url = cta;
           }
           creat.assets.push(asset);
        }

        /**
         * Image asset
         */
        image = document.getElementById("native-ad-image-url").value;
        if (value != '') {
            w = document.getElementById("native-ad-image-w").value;
            h = document.getElementById("native-ad-image-h").value;
            asset = {};
            entity = {};
            entity.url = image;
            entity.h = h;
            entity.w = w;
            asset.img = entity;
            cta = document.getElementById("native-ad-image-cta").value;
           if (cta != '') {
              asset.link = {};
              asset.link.url = cta;
           }
            creat.assets.push(asset);
        }
        /**
         * Video is TBD
         */
        ////////////////////////

        /*
        * The data objects 
        */

        table = document.getElementById("addassets");
        rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
            row = rows[i];
            cell = row.cells[0];
            type = cell.children[0].value;      
            cell = row.cells[1];
            value = cell.children[0].value
            asset = {};
            entity = {};
            cell = row.cells[2];
            cta = cell.children[0].value
            if (cta != '') {
              asset.link = {};
              asset.link.url = cta;
            }
            index = 0;
            for (var j = 0; j < assetDataTypes.length; j++) {
                str = assetDataTypes[j];
                if (str === type) {
                    index = j;
                    break;
                }
            }
            entity.type = index;
            entity.value = value;
            asset.data = entity;
            creat.assets.push(asset);
        }

        assetsDyno.clear();
        };

        function runBannerModal(id) {
        var row = document.getElementById(id);
        var editorCell = row.cells[3];
        var a = editorCell.children[0].value;
        var campaign =  getCampaign(currentCampaign);
        for (var i = 0; i < campaign.creatives.length; i++) {
            var c = campaign.creatives[i];
            if (c.impid == a) {
                crdyno.clear();
                for (var j = 0; j < c.attributes.length; j++) {
                    var attribute = c.attributes[j];
                    left = makeDottedAttribute(attribute);
                    var op = attribute.op;
                    var right = JSON.stringify(attribute.value);
                    crdyno.add([left,op,right,""]);
                }
                savedImpressionId = c.impid;       // make sure the editor knows which impression is edited
                $('#bannerModal').modal('show');
                return;
            }
        }
        }

        function runModal(id) {
        row = document.getElementById(id);
        videoEditorCell = cell = row.cells[1];
        a = cell.children[0].value;
        var campaign =  getCampaign(currentCampaign);
        for (var i = 0; i < campaign.creatives.length; i++) {
            var c = campaign.creatives[i];
            if (c.impid == a) {
                videoCreative = c;
                
                if (typeof c.videoProtocol != 'undefined')
                    document.getElementById('video-protocol').value = c.videoProtocol;
                if (typeof c.videoLinearity != 'undefined')
                    document.getElementById('video-linearity').value = c.videoLinearity;
                if (typeof c.videoMimeType != 'undefined')
                    document.getElementById('video-mime').value = c.videoMimeType;
                if (typeof c.videoDuration != 'undefined')
                    document.getElementById('video-duration').value = c.videoDuration;
           
                
                var str = "";
                for (var j = 0; j< c.adm.length; j++) {
                    str += c.adm[j] + "\n";
                }
                document.getElementById('rawVideo').value = str;
                vdyno.clear();
                for (var j = 0; j < c.attributes.length; j++) {
                    var attribute = c.attributes[j];
                    left = makeDottedAttribute(attribute);
                    var op = attribute.op;
                    var right = JSON.stringify(attribute.value);
                    vdyno.add([left,op,right,""]);
                }
                savedImpressionId = c.impid;       // make sure the editor knows which impression is edited
                $('#videoModal').modal('show');
                return;
            }
        }
        }

        function closeVideModal() {     
        creat = getCreative(campaign,savedImpressionId);
        creat.attributes = processVideoModalAttributes();
        creat.adm = document.getElementById('rawVideo').value.split('\n');

        }

        function closeBannerModal() {
        creat = getCreative(campaign,savedImpressionId);
        creat.attributes = processBannerModalAttributes();
        }

        function processBannerModalAttributes() {
        var attributes = [];
        var  table = document.getElementById("addbannerconstraints");
        var rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
            var a = rows[i].cells[0].children[0].value;
            a = a.split(".");

            var b = rows[i].cells[1].children[0].value;
            var c = eval(rows[i].cells[2].children[0].value);
            var obj = {};
            obj.bidRequestValues = a;
            obj.op = b;
            obj.value = c;
            attributes.push(obj);
        }
        return attributes;
        }


        /* Returns the video modals vide attributes */
        function processVideoModalAttributes() {
        var attributes = [];
        var  table = document.getElementById("addvideoconstraints");
        var rows = table.rows;
        for (var i = 2; i < rows.length; i++) {
            var a = rows[i].cells[0].children[0].value;
            a = a.split(".");

            var b = rows[i].cells[1].children[0].value;
            var c = eval(rows[i].cells[2].children[0].value);
            var obj = {};
            obj.bidRequestValues = a;
            obj.op = b;
            obj.value = c;
            attributes.push(obj);
        }
        return attributes;
        }

        /* Make dotted attribute name from attrinute name array */
        function makeDottedAttribute(attribute) {
        var left = "";
        for (var k = 0; k < attribute.bidRequestValues.length;k++) {
            left += attribute.bidRequestValues[k];
            if (k+1 < attribute.bidRequestValues.length)
                left += ".";
        }
        return left;
        }

        camps = [];

        cells = [];
        cells.push( "<input type='text' readonly id='SUB_ID' value='SUB_VALUE'>");
        cells.push( "<input type='button' onclick='processCampaign(\"SUB_ID\")' value='SUB_VALUE' id='SUB_ID' class='primary-btn col-xs-11 text-left' style=\"width:280px\">");
        cells.push( "<a href=\"javascript:deleteCampaign('ROW_ID','SUB_ID');\">Del<\/a>");

        dyno = new DynamicTable("addinput",cells);

        zcells = [];
        zcells.push('SUB_VALUE')
        zcells.push("<input type='button' onclick='startStop(\"ROW_ID\")' value='Start' id='ROW_ID' class='primary-btn col-xs-11 text-left' style=\"width:100px\"/>");
        campStatus = new DynamicTable("addstatus",zcells);


        ////////////////////////////////////

        images = [];

        imageCells = [];


        imageCells.push("<img src='SUB_VALUE' id='SUB_ID'/>");
        imageCells.push("SUB_VALUE");
        //    imageCells.push("<input type='button' class='btn btn-default' value='-' onclick='deleteRow(\"SUB_ID\", \"SUB_VALUE\"><\/button>");
            
        imageCells.push("<a href=\"javascript:deleteImageRow('ROW_ID');\">Del<\/a>");
        imagesTable = new DynamicTable("addimages",imageCells);

        //////////////////////////////

        var nativeAdTypes = [
        '',
        'Content Wall',
        'App Wall',
        'News Feed',
        'Chat List',
        'Carousel',
        'Content Stream',
        'Grid Adjoining'
        ];

        function getNativeAdType(test) {
        for(var i = 0; i < nativeAdTypes.length; i++) {
            if (test === nativeAdTypes[i])
                return i;
        }
        return 0;
        }

        var assetDataTypes = [
        '',
        'Sponsored',
        'Descriptive text',
        'Rating',
        'Likes',
        'Downloads',
        'Price',
        'Sale Price',
        'Phone',
        'Address',
        'Additional description',
        'Display URL for the text ad',
        'Call To Action Text'
        ];

        function testCreative(type,id) {
        var camp = getCampaign(currentCampaign);
        var name = camp.owner;
        var campId = camp.adId;
        var impId;

        var parts = id.split(":");
        var row = Number(parts[2]);


        if (type === 'BANNER') {
            var obj = creativeDyno.getObject(row-1,3);
            impId = obj.value;
        } else
        if (type === 'VIDEO') {
            var obj = videoCreativeDyno.getObject(row-1,1);
            impId = obj.value;
        } else {
            var obj = natDyno.getObject(row-1,1);
            impId = obj.value;
        }


        var msg = {
            command: 'showCreative',
            name: name,
            adid: campId,
            impid: impId
        };
        $.ajax({
         type: 'POST',
         url:'ajax',
         data: JSON.stringify(msg),
         dataType: 'json',
         success: function(data, textStatus, request){
           text = request.responseText;
           if (request.status == 204) {
            text = "";
           } else {
            data = JSON.parse(text);
            
            //////// The creative will work here!
             window.open(data.creative, "Test me");
            
            
           }
         },
         error: function (request, textStatus, errorThrown) {
           doModal(BootstrapDialog.TYPE_INFO,"Error",request.responseText);
         }});
        }


        //////////////////////////////

        xcells = [];
        xcells.push("<input type='text' id='SUB_ID' size='20'value='' placeholder='exchange name' />");
        xcells.push("<input type='text' id='SUB_ID' size='100' value='' placeholder='template is here' />");
        xcells.push("<a href=\"javascript:deleteTemplateRow('ROW_ID');\">Del<\/a><\/td>");

        tdyno = new DynamicTable("addtemplate",xcells);


        crCells = []
        crCells.push("<a href='javascript:testCreative(\"BANNER\",\"SUB_ID\")'><span class='glyphicon glyphicon-heart'><\/span><\/a>");
        crCells.push("<input type='text' id='SUB_ID' size='50' value='' placeholder='Forward URL' />");
        crCells.push("<input type='text' id='SUB_ID' size='50' value='' placeholder='Image URL' />")
        crCells.push("<input type='text' disabled id='SUB_ID' size='20' value='' placeholder='Impression ID' />");
        crCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='width' />");
        crCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='height' />");
        crCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='price' />");
        crCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='cur' />");
        crCells.push("<button type='button' class='btn btn-info btn-sm' data-toggle='modal' onclick=\"runBannerModal('ROW_ID');\">Editor<\/button>");
        crCells.push("<a href=\"javascript:deleteCreative('ROW_ID');\">Del<\/a><\/td>");
        creativeDyno = new DynamicTable("addcreative",crCells);

        ///////////// Video creative ////////////////////

        vcrCells = []
        vcrCells.push("<a href='javascript:testCreative(\"VIDEO\",\"SUB_ID\")'><span class='glyphicon glyphicon-heart'><\/span><\/a>");
        vcrCells.push("<input type='text' disabled id='SUB_ID' size='20' value='' placeholder='Impression ID' />");
        vcrCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='width' />");
        vcrCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='height' />");
        vcrCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='price' />");
        vcrCells.push("<input type='text' id='SUB_ID' size='6' value='' placeholder='cur' />");
        vcrCells.push("<button type='button' class='btn btn-info btn-sm' data-toggle='modal' onclick=\"runModal('ROW_ID');\">Tags<\/button>");
        vcrCells.push("<a href=\"javascript:deleteVideoCreative('ROW_ID');\">Del<\/a><\/td>");
        videoCreativeDyno = new DynamicTable("addvideocreative",vcrCells);


        /////////////// Native click tracker //////////////////

        clickCells = [];
        clickCells.push("<input type='text' id='SUB_ID' size='50' value='' placeholder='Click Tracking URL' />");
        clickCells.push("<a href=\"javascript:deleteNativeClickTracking('ROW_ID');\">Del<\/a><\/td>");
        clickDyno = new DynamicTable("addclicktrackers",clickCells);

        impressionCells = [];
        impressionCells.push("<input type='text' id='SUB_ID' size='50' value='' placeholder='Impression Tracking URL' />");
        impressionCells.push("<a href=\"javascript:deleteNativeImpressionTracking('ROW_ID');\">Del<\/a><\/td>");
        impressionDyno = new DynamicTable("addimpressiontrackers",impressionCells);


        /////////// Native Creative //////////////////////////
        natCells = []
        natCells.push("<a href='javascript:testCreative(\"NATIVE\",\"SUB_ID\")'><span class='glyphicon glyphicon-heart'><\/span><\/a>");
        natCells.push("<input disabled type='text' id='SUB_ID' size='20' value='' placeholder='Impression ID' />");
        natCells.push("<select class='form-control' id='SUB_ID'>"+
        "<option value='Content Wall'>Content Wall<\/option>"+
        "<option value='App Wall' selected>App Wall<\/option>"+
        "<option value='News Feed'>News Feed<\/option>"+
        "<option value='Chat List'>Chat List<\/option>"+
        "<option value='Carousel'>Carousel<\/option>"+
        "<option value='Content Stream'>Content Stream<\/option>"+
        "<option value='Grid Adjoining<\/option>"+
        "<\/select>")
        natCells.push("<input type='text' id='SUB_ID' size='10' value='' placeholder='0.0' />");
        natCells.push("<input type='text' id='SUB_ID' size='10' value='' placeholder='USD' />");
        natCells.push("<button type='button' class='btn btn-info btn-sm' data-toggle='modal' onclick=\"runNativeModal('ROW_ID');\">Editor<\/button>");
        natCells.push("<a href=\"javascript:deleteNativeCreative('ROW_ID');\">Del<\/a><\/td>");
        natDyno = new DynamicTable("addnative",natCells);


        ///////////////////// Native data assets /////////////////

        assetCells = [];
        assetCells.push("<select class='selectpicker' id='SUB_ID'>"+
        "<option value='Sponsored'>Sponsored<\/option>"+
        "<option value='Descriptive text'>Descriptive text<\/option>"+
        "<option value='Rating'>Rating<\/option>"+
        "<option value='Likes'>Likes<\/option>"+
        "<option value='Downloads'>Downloads<\/option>"+
        "<option value='Price'>Price<\/option>"+
        "<option value='Sale Price'>Sale price<\/option>"+  
        "<option value='Phone'>Phone<\/option>"+
        "<option value='Address'>Address<\/option>"+    
        "<option value='Additional descrption'>Additional description<\/option>"+    
        "<option value='Display URL for the text ad'>Display URL for the text ad<\/option>"+    
        "<option value='Call To Action Text'>Call To Action Text<\/option>"+ 
        "<\/select>"); 
        assetCells.push("<input type='text' id='SUB_ID' size='30'value='' placeholder='Data value' />");
        assetCells.push("<input type='text' id='SUB_ID' size='30'value='' placeholder='Call to action value' />");
        assetCells.push("<a href=\"javascript:deleteAssetsRow('ROW_ID');\">Del<\/a><\/td>");
        assetsDyno = new DynamicTable("addassets",assetCells);


        ccells = [];

        ccells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint name' />")
        ccells.push("<select class='form-control' id='SUB_ID'>"+
        "<option value='EQUALS'>EQUALS<\/option>"+
        "<option value='NOT_EQUALS'>NOT_EQUALS<\/option>"+
        "<option value='MEMBER'>MEMBER<\/option>"+
        "<option value='NOT_MEMBER'>NOT_MEMBER<\/option>"+
        "<option value='INTERSECTS'>INTERSECTS<\/option>"+
        "<option value='NOT_INTERSECTS'>NOT_INTERSECTS<\/option>"+
        "<option value='INRANGE'>INRANGE<\/option>"+
        "<option value='NOT_INRANGE'>NOT_INRANGE<\/option>"+
        "<option value='LESS_THAN'>LESS_THAN<\/option>"+
        "<option value='LESS_THAN_EQUALS'>LESS_THAN_EQUALS<\/option>"+
        "<option value='GREATER_THAN'>GREATER_THAN<\/option>"+
        "<option value='GREATER_THAN_EQUALS'>GREATER_THAN_EQUALS<\/option>"+
        "<option value='DOMAIN'>DOMAIN<\/option>"+
        "<option value='NOT_DOMAIN'>NOT_DOMAIN<\/option>"+
        "<\/select>")
        ccells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint value' />")
        ccells.push("<input type='checkbox' id='SUB_ID' checked>");
        ccells.push("<a href=\"javascript:deleteConstraintRow('ROW_ID');\">Del<\/a><\/td>");

        cdyno = new DynamicTable("addconstraints",ccells);

        //////////////////////////////////////////////////////////////////

        ////////////// VIDEO attributes ////////////////////////
        crcells = [];

        crcells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint name' />")
        crcells.push("<select class='form-control' id='SUB_ID'>"+
        "<option value='EQUALS'>EQUALS<\/option>"+
        "<option value='NOT_EQUALS'>NOT_EQUALS<\/option>"+
        "<option value='MEMBER'>MEMBER<\/option>"+
        "<option value='NOT_MEMBER'>NOT_MEMBER<\/option>"+
        "<option value='INTERSECTS'>INTERSECTS<\/option>"+
        "<option value='NOT_INTERSECTS'>NOT_INTERSECTS<\/option>"+
        "<option value='INRANGE'>INRANGE<\/option>"+
        "<option value='NOT_INRANGE'>NOT_INRANGE<\/option>"+
        "<option value='LESS_THAN'>LESS_THAN<\/option>"+
        "<option value='LESS_THAN_EQUALS'>LESS_THAN_EQUALS<\/option>"+
        "<option value='GREATER_THAN'>GREATER_THAN<\/option>"+
        "<option value='GREATER_THAN_EQUALS'>GREATER_THAN_EQUALS<\/option>"+
        "<option value='DOMAIN'>DOMAIN<\/option>"+
        "<option value='NOT_DOMAIN'>NOT_DOMAIN<\/option>"+
        "<\/select>")
        crcells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint value' />")
        crcells.push("<a href=\"javascript:deleteBannerConstraintRow('ROW_ID');\">Del<\/a><\/td>");

        crdyno = new DynamicTable("addbannerconstraints",crcells);

        ////////////// VIDEO attributes ////////////////////////
        vcells = [];

        vcells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint name' />")
        vcells.push("<select class='form-control' id='SUB_ID'>"+
        "<option value='EQUALS'>EQUALS<\/option>"+
        "<option value='NOT_EQUALS'>NOT_EQUALS<\/option>"+
        "<option value='MEMBER'>MEMBER<\/option>"+
        "<option value='NOT_MEMBER'>NOT_MEMBER<\/option>"+
        "<option value='INTERSECTS'>INTERSECTS<\/option>"+
        "<option value='NOT_INTERSECTS'>NOT_INTERSECTS<\/option>"+
        "<option value='INRANGE'>INRANGE<\/option>"+
        "<option value='NOT_INRANGE'>NOT_INRANGE<\/option>"+
        "<option value='LESS_THAN'>LESS_THAN<\/option>"+
        "<option value='LESS_THAN_EQUALS'>LESS_THAN_EQUALS<\/option>"+
        "<option value='GREATER_THAN'>GREATER_THAN<\/option>"+
        "<option value='GREATER_THAN_EQUALS'>GREATER_THAN_EQUALS<\/option>"+
        "<option value='DOMAIN'>DOMAIN<\/option>"+
        "<option value='NOT_DOMAIN'>NOT_DOMAIN<\/option>"+
        "<\/select>")
        vcells.push("<input type='text' id='SUB_ID' size='40'value='' placeholder='constraint value' />")
        vcells.push("<a href=\"javascript:deleteVideoConstraintRow('ROW_ID');\">Del<\/a><\/td>");

        vdyno = new DynamicTable("addvideoconstraints",vcells);


        function disableTabs(mode)  {
        disabler(document.getElementById("myTabContent"),mode);
        }

        function disabler(el,mode) {
        try {
        el.disabled = mode
        } catch(E) {}
        if (el.childNodes && el.childNodes.length > 0) {
        for (var x = 0; x < el.childNodes.length; x++) {
            if (el.childNodes[x].id != 'zstatus' && el.childNodes[x].id != 'images')
                disabler(el.childNodes[x],mode);
        }
        }
        }

        /** Format or minimize xml */
        function doFormatXML(squeeze) {
        var text = document.getElementById("rawVideo").value;
        if (!squeeze)
            text = vkbeautify.xml(text);
        else
            text = vkbeautify.xmlmin(text);
        document.getElementById("rawVideo").value = text;
        }

        function doDemo() {
        document.getElementById('addCampaignButton').setAttribute('disabled', true);
        document.getElementById('saveChanges').setAttribute('disabled', true);
        document.getElementById('uploadFile').setAttribute('disabled', true);
        }

        doModal(BootstrapDialog.TYPE_INFO,"Info","You are logging in as 'demo', just press 'Sign In' to go to\nproceed to the campaign admin page");


        </script>
    </div>
</body>
</html>